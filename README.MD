# **Survey Container** 
![SurveyContainer](https://github.com/FernadoCodeDev/Survey-Container/blob/main/Img-Readme/SurveyContainer.png)


# ğŸ“¦ Survey Container

**Survey Container** es una soluciÃ³n completa desarrollada como parte de una prueba tÃ©cnica para construir un sistema de encuestas internas modular, reutilizable y escalable. Este proyecto incluye:

- Un SDK frontend en React + TypeScript (`/sdk`)
- Un backend en Node.js + Express + TypeScript (`/backend`)
- Una API funcional para gestionar encuestas, respuestas y mÃ©tricas
- Una app de demostraciÃ³n (`/demo-app`) que integra el SDK

## ğŸ§  Â¿QuÃ© es Survey Container?

Survey Container es un sistema de encuestas interno pensado para integrarse fÃ¡cilmente en diferentes aplicaciones. EstÃ¡ compuesto por un paquete npm exportable (`<SurveyWidget />`) y una API para manejo de datos. Fue creado con TypeScript en todos sus componentes, siguiendo principios de modularidad y escalabilidad.

### ğŸš€ Â¿QuÃ© necesidad resuelve?

- Permite a empresas recolectar feedback interno de forma Ã¡gil.
- Su diseÃ±o modular permite integrarlo fÃ¡cilmente en mÃºltiples entornos frontend.
- Ofrece una API clara y tipada para obtener resultados de encuestas y mÃ©tricas.

### âš™ï¸ TecnologÃ­as utilizadas

**Front-End** | **Back-End** | **Bases de Datos** | 
:---: | :---: | :---: |
<img src="https://skillicons.dev/icons?i=react,typescript" alt="frontend Skills" /> |<img src="https://skillicons.dev/icons?i=nodejs,express" alt="Backend Skills" /> | <img src="https://skillicons.dev/icons?i=sqlite" alt="Databases Skills" /> |

### ğŸ§ª CÃ³mo probar Survey-Container
- clona el repositorio
- instala las dependencias de cada carpeta

**Backend**

```bash
cd backend && npm install

**demo-app** 

```bash
cd demo-app && npm install

**sdk**

```bash
cd sdk && npm install

---

## ğŸ“ Estructura del proyecto

<details>
<summary>ğŸ“‚ backend</summary>

El backend estÃ¡ desarrollado con **Node.js**, usando el framework **Express** y escrito completamente en **TypeScript**. Utiliza **SQLite** como sistema de base de datos local y **Prisma** como ORM para el manejo de datos.

### ğŸ“¦ Estructura general

```bash
/backend
â”‚
â”œâ”€â”€ prisma/
â”‚ â””â”€â”€ schema.prisma â† DefiniciÃ³n del modelo de la base de datos
â”‚
â”œâ”€â”€ src/
â”‚ â”œâ”€â”€ controllers/ â† MÃ©todos para manejar encuestas, respuestas y mÃ©tricas
â”‚ â”œâ”€â”€ models/ â† (Si tienes interfaces o tipos definidos)
â”‚ â”œâ”€â”€ prisma/
â”‚ â”‚ â””â”€â”€ client.ts â† Inicializa la conexiÃ³n con Prisma
â”‚ â”œâ”€â”€ routes/ â† Define rutas para surveys, responses y mÃ©tricas
â”‚ â””â”€â”€ index.ts â† Archivo principal para levantar el servidor
â”‚
â”œâ”€â”€ .env â† Variables de entorno
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json

## ğŸ“ **Nota:** Las carpetas `dist/` y `node_modules/` se excluyen porque se generan automÃ¡ticamente al compilar y al instalar dependencias.

### ğŸ§  Â¿QuÃ© es `prisma/`?

La carpeta `prisma/` contiene el archivo `schema.prisma`, donde se define el modelo de la base de datos.  
AquÃ­ se declaran las **tablas** (o modelos) como `Survey`, `Question`, `Response`, etc., que luego Prisma usa para generar el acceso a la base de datos.

TambiÃ©n puedes correr el siguiente comando para abrir una interfaz visual de la base de datos:

```bash
npx prisma studio

### ğŸ› ï¸ ConfiguraciÃ³n de la base de datos

Para configurar la base de datos con SQLite, asegÃºrate de tener el archivo schema.prisma bien definido. Luego:

1. Instala dependencias:

```bash
npm install

2. Genera el cliente Prisma y crea la base de datos:

```bash
npx prisma generate
npx prisma db push

Esto crearÃ¡ automÃ¡ticamente el archivo dev.db (base de datos SQLite) basado en el esquema.

3. Para ver tu base de datos ve a Prisma Studio:

```bash
npx prisma studio

###ğŸš€ Iniciar el servidor

- entra a la carpeta backend 

```bash
cd backend 

e inicia el servidor 

```bash
npm run dev

### ğŸŒ Rutas disponibles
Estas rutas estÃ¡n definidas dentro de la carpeta `src/routes` y cada una se conecta con su respectivo controlador (`src/controllers`):

**MÃ©todo* | **Ruta** | **DescripciÃ³n** | 
:---: | :---: | :---: |
GET  | `/api/surveys/:id` | Obtener una encuesta por su ID |

**MÃ©todo* | **Ruta** | **DescripciÃ³n** | 
:---: | :---: | :---: |
POST  | `/api/responses` | Enviar respuestas de encuesta |

**MÃ©todo* | **Ruta** | **DescripciÃ³n** | 
:---: | :---: | :---: |
GET  | `/api/metrics/:surveyId` | Ver mÃ©tricas agrupadas por pregunta |

### ğŸ“‚ ExplicaciÃ³n por carpetas
- `controllers/`: AquÃ­ se encuentran las funciones que manejan la lÃ³gica de cada endpoint, como obtener encuestas, registrar respuestas y calcular mÃ©tricas.
- `routes/`: Define las rutas del API y las conecta con los controladores correspondientes.
- `prisma/client.ts`: Archivo que crea y exporta una instancia de PrismaClient. Se importa en los controladores para acceder a la base de datos.
- `index.ts`: Archivo principal que levanta el servidor Express y configura middlewares bÃ¡sicos.


</details>

<details>
<summary>ğŸ“‚ demo-app</summary>

![aa](https://github.com/FernadoCodeDev/Project-React-Ty-Node/blob/main/Img-Readme/Readme-Image-1.png)

![aaa](https://github.com/FernadoCodeDev/Project-React-Ty-Node/blob/main/Img-Readme/Readme-Image-2.png)

</details>

<details>
<summary>ğŸ“‚ sdk</summary>

</details>

<details>
<summary>API</summary>

</details>


